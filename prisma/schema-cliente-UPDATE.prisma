// Adicione este model no seu arquivo schema.prisma

model Cliente {
  id          String   @id @default(cuid())
  nome        String
  cpfCnpj     String?
  telefone    String
  email       String
  endereco    String?
  observacoes String?
  ativo       Boolean  @default(true)
  
  orcamentos  Orcamento[]
  
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

// IMPORTANTE: Também atualize o model Orcamento para incluir a relação:
model Orcamento {
  id               String   @id @default(cuid())
  clienteId        String   // ← ADICIONE ESTA LINHA
  cliente          Cliente  @relation(fields: [clienteId], references: [id]) // ← ADICIONE ESTA LINHA
  descricao        String?
  itensDetalhados  String
  subtotal         Float
  margemLucro      Float
  gastosAdicionais Float
  valorFinal       Float
  
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
}

// Depois de adicionar, rode:
// npx prisma migrate dev --name add_clientes
